<div class="products-container">
  <select id="sort" onchange="window.location.href='?sort='+this.value+'&page={{page}}&limit={{limit}}'">
    <option value="asc" {{isSelected "asc" sort}}>Precio ascendente</option>
    <option value="desc" {{isSelected "desc" sort}}>Precio descendente</option>
  </select>
  
  <select id="page-select" onchange="window.location.href='?sort={{sort}}&page='+this.value+'&limit={{limit}}'">
    {{#forPages totalPages}}
      <option value="{{this}}" {{isSelected this page}}>{{this}} de {{totalPages}}</option>
    {{/forPages}}
  </select>
  
<select id="limit-select" onchange="window.location.href='?sort={{sort}}&page={{page}}&limit='+this.value">
  <option value="" {{isSelected "" limit}}>Mostrar productos</option>
  <option value="5" {{isSelected "5" limit}}>5 productos por página</option>
  <option value="10" {{isSelected "10" limit}}>10 productos por página</option>
  <option value="20" {{isSelected "20" limit}}>20 productos por página</option>
  <option value="50" {{isSelected "50" limit}}>50 productos por página</option>
</select>
  
  <h1 class="title">Productos</h1>
  <nav class="pagination">
    {{#if_gt page 1}}
      <a href="?sort={{sort}}&page={{subtract page 1}}&limit={{limit}}" title="Ir a la página anterior" aria-label="Página anterior">
        Anterior
      </a>
    {{else}}
      <span aria-label="Primera página">Primera página</span>
    {{/if_gt}}
    {{#if_gt totalPages page}}
      <a href="?sort={{sort}}&page={{add page 1}}&limit={{limit}}" title="Ir a la página siguiente" aria-label="Página siguiente">
        Siguiente
      </a>
    {{else}}
      <span aria-label="Última página">No hay más páginas</span>
    {{/if_gt}}
  </nav>
  <ul class="products-list">
    {{#each products}}
    <li class="product">
      <h2>{{title}}</h2>
      <h3>Precio:</h3>
      <p>${{price}}</p>
      <button class="btn-link">
        <a href="/products/{{id}}">Ver detalles</a>
      </button>
      <button class="btn-primary">
        Agregar al carrito
      </button>
    </li>
    {{/each}}
  </ul>
</div>